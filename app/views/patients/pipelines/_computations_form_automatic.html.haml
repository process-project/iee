- steps_config.each do |step, config|
  %h4= t("steps.#{step}.title")
  .form-group
    - if config[:tags_and_branches]
      %label.col-sm-2.control-label.select{ for: "pipeline_#{step}_branch_or_version" }= t('.tag_or_branch')
      .col-sm-4
        = select_tag "pipeline_#{step}_branch_or_version",
          grouped_options_for_select(config[:tags_and_branches]),
          include_blank: t('.blank'),
          class: "form-control",
          name: "pipeline[#{step}][tag_or_branch]"
      %label.col-sm-2.control-label.select{ for: "pipeline_#{step}_deployment" }= t('.deployment')
      .col-sm-4
        = select_tag "pipeline_#{step}_deployment",
          options_for_select(config[:deployment]),
          include_blank: t('.blank'),
          class: "form-control",
          name: "pipeline[#{step}][deployment]"
    - if config[:run_modes]
      %label.col-sm-2.control-label.select{ for: "pipeline_#{step}_run_mode" }= t('.mode')
      .col-sm-6
        = select_tag "pipeline_#{step}_run_mode",
          options_for_select(config[:run_modes]),
          include_blank: t('.blank'),
          class: "form-control",
          name: "pipeline[#{step}][run_mode]"
    - unless config[:tags_and_branches] || config[:run_modes]
      .alert.alert-success.col-sm-6.col-sm-offset-3= t('.empty_configuration')
